<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Model Information</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
</head>

<body class="bg-gray-50 min-h-screen">
  <nav class="backdrop-blur-md bg-white/70 shadow-lg border-b border-white/20 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <i class="fas fa-heartbeat text-red-500 text-2xl mr-2"></i>
          <span class="font-medium text-xl text-gray-800">Heart Health Predictor</span>
        </div>

        <!-- Mobile menu button -->
        <div class="flex items-center md:hidden">
          <button id="mobile-menu-button" type="button"
            class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-red-500"
            aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <!-- Icon when menu is closed -->
            <svg id="menu-closed-icon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <!-- Icon when menu is open -->
            <svg id="menu-open-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>

        <!-- Desktop menu -->
        <div class="hidden md:flex md:items-center md:space-x-4">
          <a href="/"
            class="px-3 py-2 text-sm font-medium text-red-600 border-b-2 border-red-500 hover:bg-red-50/30 rounded-t-md transition-all duration-300">Home</a>
          <a href="/predict"
            class="px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50/30 rounded-t-md transition-all duration-300">Predict</a>
          <a href="/model-info"
            class="px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50/30 rounded-t-md transition-all duration-300">Model
            Info</a>
          <a href="/api-docs"
            class="px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50/30 rounded-t-md transition-all duration-300">API
            Docs</a>
        </div>
      </div>
    </div>

    <!-- Mobile menu, show/hide based on menu state. -->
    <div class="md:hidden hidden" id="mobile-menu">
      <div class="pt-2 pb-3 space-y-1 backdrop-blur-md bg-white/80">
        <a href="/"
          class="bg-red-50/50 border-l-4 border-red-500 text-red-700 block pl-3 pr-4 py-2 text-base font-medium">Home</a>
        <a href="/predict"
          class="border-l-4 border-transparent text-gray-600 hover:bg-gray-50/50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 text-base font-medium transition-all duration-300">Predict</a>
        <a href="/model-info"
          class="border-l-4 border-transparent text-gray-600 hover:bg-gray-50/50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 text-base font-medium transition-all duration-300">Model
          Info</a>
        <a href="/api-docs"
          class="border-l-4 border-transparent text-gray-600 hover:bg-gray-50/50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 text-base font-medium transition-all duration-300">API
          Docs</a>
      </div>
    </div>
  </nav>
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Model Information</h1>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
      <!-- Model Details Card -->
      <div class="bg-white rounded-xl shadow-md overflow-hidden col-span-1">
        <div class="p-6">
          <h2 class="text-xl font-medium text-gray-900 mb-4 flex items-center">
            <i class="fas fa-info-circle text-red-500 mr-2"></i>
            Model Details
          </h2>
          <div id="modelDetails" class="space-y-4">
            <div class="flex justify-between border-b border-gray-100 pb-2">
              <span class="text-gray-600">Model Name</span>
              <span id="modelName" class="font-medium text-gray-900">Random Forest</span>
            </div>
            <div class="flex justify-between border-b border-gray-100 pb-2">
              <span class="text-gray-600">Created On</span>
              <span id="createdAt" class="font-medium text-gray-900">09 March, 2025</span>
            </div>
            <div class="flex justify-between border-b border-gray-100 pb-2">
              <span class="text-gray-600">Training Dataset Size</span>
              <span id="trainingSize" class="font-medium text-gray-900">10,000 × 13</span>
            </div>
            <div class="flex justify-between pb-2">
              <span class="text-gray-600">Target Classes</span>
              <span id="targetClasses" class="font-medium text-gray-900">0 (No Disease), 1 (Disease)</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Performance Metrics Card -->
      <div class="bg-white rounded-xl shadow-md overflow-hidden col-span-1 lg:col-span-2">
        <div class="p-6">
          <h2 class="text-xl font-medium text-gray-900 mb-4 flex items-center">
            <i class="fas fa-chart-line text-red-500 mr-2"></i>
            Performance Metrics
          </h2>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gray-50 rounded-lg p-4 text-center">
              <div class="text-3xl font-bold text-red-600 mb-1" id="accuracy">88.1%</div>
              <div class="text-xs text-gray-500 uppercase">Accuracy</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4 text-center">
              <div class="text-3xl font-bold text-red-600 mb-1" id="precision">87.5%</div>
              <div class="text-xs text-gray-500 uppercase">Precision</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4 text-center">
              <div class="text-3xl font-bold text-red-600 mb-1" id="recall">86.2%</div>
              <div class="text-xs text-gray-500 uppercase">Recall</div>
            </div>
            <div class="bg-gray-50 rounded-lg p-4 text-center">
              <div class="text-3xl font-bold text-red-600 mb-1" id="f1">86.8%</div>
              <div class="text-xs text-gray-500 uppercase">F1 Score</div>
            </div>
          </div>
          <div class="h-64">
            <canvas id="metricsChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Model Comparison Table -->
    <div class="bg-white rounded-xl shadow-md overflow-hidden mb-12">
      <div class="p-6">
        <h2 class="text-xl font-medium text-gray-900 mb-4 flex items-center">
          <i class="fas fa-balance-scale text-red-500 mr-2"></i>
          Model Development Metrics
        </h2>
        <p class="text-gray-600 mb-6">
          The Random Forest model was selected after comprehensive evaluation across multiple algorithms. Below is a
          comparison of accuracy scores at different stages of model development:
        </p>

        <div class="overflow-x-auto">
          <table class="min-w-full bg-white border border-gray-200">
            <thead>
              <tr>
                <th
                  class="py-3 px-6 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b">
                  Model</th>
                <th
                  class="py-3 px-6 bg-gray-50 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b">
                  Before Tuning</th>
                <th
                  class="py-3 px-6 bg-gray-50 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b">
                  With 10-Fold CV</th>
                <th
                  class="py-3 px-6 bg-gray-50 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b">
                  After Tuning</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">Decision Tree</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.673</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7121</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">-</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">Naïve Bayes</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.6465</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7214</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">-</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">K-Nearest Neighbors</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7102</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7394</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">0.7396</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">SVM</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.6891</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7400</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">0.7649</td>
              </tr>
              <tr class="bg-red-50 hover:bg-red-100">
                <td class="py-2 px-6 text-sm font-medium text-red-700 border-r">Random Forest</td>
                <td class="py-2 px-6 text-sm text-red-700 text-center font-medium border-r">0.8050</td>
                <td class="py-2 px-6 text-sm text-red-700 text-center font-medium border-r">0.8812</td>
                <td class="py-2 px-6 text-sm text-red-700 text-center font-medium">0.7933</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">AdaBoost</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.6639</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7245</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">-</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">XGBoost</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.8017</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.8775</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">0.8244</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">Logistic Regression</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.5552</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.6063</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">-</td>
              </tr>
              <tr class="hover:bg-gray-50">
                <td class="py-2 px-6 text-sm font-medium text-gray-900 border-r">Gradient Boosting</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7060</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center border-r">0.7879</td>
                <td class="py-2 px-6 text-sm text-gray-500 text-center">-</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mt-4 bg-blue-50 p-4 rounded-lg border border-blue-200">
          <div class="flex items-start">
            <i class="fas fa-info-circle text-blue-500 mt-1 mr-3"></i>
            <div>
              <p class="text-sm text-blue-800">
                <span class="font-medium">Key Insights:</span> Random Forest showed the highest overall performance with
                88.12% accuracy during cross-validation. While performance decreased slightly after hyperparameter
                tuning (79.33%), this model was selected for deployment as it provides better generalization to new
                data. XGBoost was a close second with excellent performance metrics.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="bg-white rounded-xl shadow-md overflow-hidden mb-12">
      <div class="p-6">
        <h2 class="text-xl font-medium text-gray-900 mb-4 flex items-center">
          <i class="fas fa-list-ul text-red-500 mr-2"></i>
          Model Features
        </h2>
        <p class="text-gray-600 mb-6">
          The model uses the following clinical features to predict heart disease risk:
        </p>

        <div id="featuresContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Feature cards will be dynamically generated -->
        </div>
      </div>
    </div>

    <!-- Model Explanation -->
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="p-6">
        <h2 class="text-xl font-medium text-gray-900 mb-4 flex items-center">
          <i class="fas fa-brain text-red-500 mr-2"></i>
          How The Model Works
        </h2>

        <div class="prose max-w-none text-gray-600">
          <p>
            Our heart disease prediction model uses a Random Forest machine learning algorithm to analyze patient data
            and determine the
            likelihood of heart disease presence. Here's how it works:
          </p>

          <h3 class="text-lg font-medium text-gray-800 mt-4">Data Collection</h3>
          <p>
            The model was trained on the Cleveland Heart Disease dataset, which contains anonymized patient records with
            various clinical measurements and their corresponding heart disease diagnoses.
          </p>

          <h3 class="text-lg font-medium text-gray-800 mt-4">Feature Processing</h3>
          <p>
            Before making predictions, the model processes input data through these steps:
          </p>
          <ul class="list-disc pl-6 space-y-2">
            <li>Categorical features are encoded into numerical values</li>
            <li>Numerical features are scaled to standardize their ranges</li>
            <li>Missing values are handled appropriately</li>
          </ul>

          <h3 class="text-lg font-medium text-gray-800 mt-4">Random Forest Algorithm</h3>
          <p>
            The Random Forest algorithm creates multiple decision trees during training and merges them to get a more
            accurate and stable prediction:
          </p>
          <ul class="list-disc pl-6 space-y-2">
            <li>Creates many decision trees using random subsets of data</li>
            <li>Each tree votes on the classification (disease present or not)</li>
            <li>The majority vote becomes the final prediction</li>
            <li>This ensemble approach reduces overfitting and improves accuracy</li>
          </ul>

          <h3 class="text-lg font-medium text-gray-800 mt-4">Prediction</h3>
          <p>
            Once processed, the data is passed through the model, which outputs a probability score indicating the
            likelihood of heart disease. This score is then converted to a binary prediction:
          </p>
          <ul class="list-disc pl-6 space-y-2">
            <li><span class="font-medium">0</span>: Low risk - Heart disease not likely present</li>
            <li><span class="font-medium">1</span>: High risk - Heart disease likely present</li>
          </ul>

          <div class="bg-blue-50 p-4 rounded-md border border-blue-200 text-blue-700 text-sm mt-6">
            <div class="flex">
              <i class="fas fa-info-circle mt-0.5 mr-2"></i>
              <div>
                <p class="font-medium">Important Note:</p>
                <p class="mt-1">
                  This model is intended for informational purposes only and should not replace professional medical
                  advice. Always consult with a healthcare provider for proper diagnosis and treatment.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="bg-white border-t border-gray-200 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="text-center text-gray-500 text-sm">
        <p>&copy; 2025 Heart Health Predictor. All rights reserved.</p>
        <p class="mt-2">This tool is for informational purposes only and should not replace professional medical advice.
        </p>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Mobile menu toggle functionality
      const menuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      const openIcon = document.getElementById('menu-open-icon');
      const closedIcon = document.getElementById('menu-closed-icon');

      menuButton.addEventListener('click', function () {
        // Toggle menu visibility
        const isExpanded = menuButton.getAttribute('aria-expanded') === 'true';
        menuButton.setAttribute('aria-expanded', !isExpanded);
        mobileMenu.classList.toggle('hidden');

        // Toggle icons
        openIcon.classList.toggle('hidden');
        closedIcon.classList.toggle('hidden');
      });

      // Get all navigation links
      const desktopNavLinks = document.querySelectorAll('.md\\:flex a');
      const mobileNavLinks = document.querySelectorAll('#mobile-menu a');

      // Function to set active link
      function setActiveLink(clickedLink) {
        // Get href of clicked link
        const href = clickedLink.getAttribute('href');

        // Remove active classes from all desktop links
        desktopNavLinks.forEach(link => {
          link.classList.remove('text-red-600', 'border-b-2', 'border-red-500');
          link.classList.add('text-gray-600', 'hover:text-gray-800');
        });

        // Remove active classes from all mobile links
        mobileNavLinks.forEach(link => {
          link.classList.remove('bg-red-50/50', 'border-red-500', 'text-red-700');
          link.classList.add('border-transparent', 'text-gray-600', 'hover:bg-gray-50/50', 'hover:border-gray-300', 'hover:text-gray-800');
        });

        // Add active classes to matching desktop links
        desktopNavLinks.forEach(link => {
          if (link.getAttribute('href') === href) {
            link.classList.remove('text-gray-600', 'hover:text-gray-800');
            link.classList.add('text-red-600', 'border-b-2', 'border-red-500');
          }
        });

        // Add active classes to matching mobile links
        mobileNavLinks.forEach(link => {
          if (link.getAttribute('href') === href) {
            link.classList.remove('border-transparent', 'text-gray-600', 'hover:bg-gray-50/50', 'hover:border-gray-300', 'hover:text-gray-800');
            link.classList.add('bg-red-50/50', 'border-red-500', 'text-red-700');
          }
        });
      }

      // Add click event listeners to all navigation links
      desktopNavLinks.forEach(link => {
        link.addEventListener('click', function (e) {
          // Only prevent default if you're handling navigation in JavaScript
          // e.preventDefault(); 
          setActiveLink(this);
        });
      });

      mobileNavLinks.forEach(link => {
        link.addEventListener('click', function (e) {
          // Only prevent default if you're handling navigation in JavaScript
          // e.preventDefault();
          setActiveLink(this);
        });
      });

      // Set active link based on current URL on page load
      const currentPath = window.location.pathname;
      const currentPageLink = [...desktopNavLinks, ...mobileNavLinks].find(link =>
        link.getAttribute('href') === currentPath ||
        (currentPath === '/' && link.getAttribute('href') === '/')
      );

      if (currentPageLink) {
        setActiveLink(currentPageLink);
      }

      // Feature cards generation
      const featuresContainer = document.getElementById('featuresContainer');

      // Enhanced feature descriptions
      const featureDescriptions = {
        'age': {
          desc: 'Patient\'s age in years',
          why: 'Age is a significant risk factor for heart disease. Risk increases with age due to cumulative exposure to risk factors and natural aging of the cardiovascular system.'
        },
        'sex': {
          desc: 'Biological sex (1 = male, 0 = female)',
          why: 'Men generally have a higher risk of heart disease than pre-menopausal women. Post-menopause, women\'s risk increases significantly. Binary encoding is used for model simplicity.'
        },
        'cp': {
          desc: 'Chest pain type',
          why: 'Encoded as values 0-3: 0 = typical angina, 1 = atypical angina, 2 = non-anginal pain, 3 = asymptomatic. The type of chest pain is a strong indicator for coronary artery disease.'
        },
        'trestbps': {
          desc: 'Resting blood pressure (mm Hg)',
          why: 'High blood pressure is a major risk factor for heart disease. It creates added stress on the heart and blood vessels.'
        },
        'chol': {
          desc: 'Serum cholesterol (mg/dl)',
          why: 'Elevated cholesterol levels can lead to plaque buildup in arteries, increasing heart disease risk. Normal range is typically below 200 mg/dl.'
        },
        'fbs': {
          desc: 'Fasting blood sugar > 120 mg/dl (1 = true, 0 = false)',
          why: 'Elevated blood sugar indicates potential diabetes, which significantly increases heart disease risk. Binary encoding simplifies the model input.'
        },
        'restecg': {
          desc: 'Resting electrocardiographic results',
          why: 'Encoded as values 0-2: 0 = normal, 1 = ST-T wave abnormality, 2 = probable or definite left ventricular hypertrophy. ECG abnormalities can indicate underlying heart issues.'
        },
        'thalach': {
          desc: 'Maximum heart rate achieved during exercise',
          why: 'Lower maximum heart rates can indicate cardiovascular issues. A healthy response to exercise is an important indicator of heart health.'
        },
        'exang': {
          desc: 'Exercise induced angina (1 = yes, 0 = no)',
          why: 'Pain during exercise suggests insufficient blood supply to the heart muscle, which may indicate coronary artery disease.'
        },
        'oldpeak': {
          desc: 'ST depression induced by exercise relative to rest',
          why: 'Measured in millimeters. Greater depression indicates potential ischemia (restricted blood flow to the heart), a sign of coronary artery disease.'
        },
        'slope': {
          desc: 'Slope of the peak exercise ST segment',
          why: 'Encoded as values 0-2: 0 = upsloping, 1 = flat, 2 = downsloping. The slope pattern provides information about heart stress response during exercise.'
        },
        'ca': {
          desc: 'Number of major vessels colored by fluoroscopy',
          why: 'Range 0-3, indicating vessels with significant narrowing (>50%). More affected vessels indicate more extensive coronary disease.'
        },
        'thal': {
          desc: 'Thalassemia status from nuclear stress test',
          why: 'Encoded as 1 = normal, 2 = fixed defect, 3 = reversible defect. Thalassemia is a blood disorder that can affect heart function. Reversible defects often indicate ischemia.'
        }
      };

      // Predefined list of features
      const features = [
        'age', 'sex', 'cp', 'trestbps', 'chol', 'fbs', 'restecg',
        'thalach', 'exang', 'oldpeak', 'slope', 'ca', 'thal'
      ];

      // Generate feature cards
      features.forEach(feature => {
        const featureInfo = featureDescriptions[feature];
        if (featureInfo) {
          const card = document.createElement('div');
          card.className = 'bg-gray-50 rounded-lg p-4 border border-gray-100';
          card.innerHTML = `
          <h3 class="font-medium text-gray-900 mb-2">${feature}</h3>
          <p class="text-sm text-gray-700 mb-2">${featureInfo.desc}</p>
          <p class="text-xs text-gray-600"><span class="text-xs font-medium">Why it matters:</span> ${featureInfo.why}</p>
        `;
          featuresContainer.appendChild(card);
        }
      });

      // Create metrics chart
      const ctx = document.getElementById('metricsChart').getContext('2d');
      const metricsChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Accuracy', 'Precision', 'Recall', 'F1 Score'],
          datasets: [{
            label: 'Model Performance',
            data: [88.1, 87.5, 86.2, 86.8],
            backgroundColor: [
              'rgba(220, 38, 38, 0.6)',
              'rgba(220, 38, 38, 0.7)',
              'rgba(220, 38, 38, 0.8)',
              'rgba(220, 38, 38, 0.9)'
            ],
            borderColor: [
              'rgba(220, 38, 38, 1)',
              'rgba(220, 38, 38, 1)',
              'rgba(220, 38, 38, 1)',
              'rgba(220, 38, 38, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function (context) {
                  return `${context.dataset.label}: ${context.raw}%`;
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: false,
              min: 80,
              max: 100,
              ticks: {
                callback: function (value) {
                  return value + '%';
                }
              }
            }
          }
        }
      });
    });
  </script>